// <![CDATA[
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.TocJumper = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol?'symbol':typeof obj},autoComplete=function(){return(// "use strict";
function(b){var _this=this;if(document.querySelector){var h,j,l,m,n,p;(function(){// helpers
var z=function z(D,E){return D.classList?D.classList.contains(E):new RegExp('\\b'+E+'\\b').test(D.className)},A=function A(D,E,F){D.attachEvent?D.attachEvent('on'+E,F):D.addEventListener(E,F)},B=function B(D,E,F){D.detachEvent?D.detachEvent('on'+E,F):D.removeEventListener(E,F)},C=function C(D,E,F,G){A(G||document,E,function(H){for(var I,J=H.target||H.srcElement;J&&!(I=z(J,D));)J=J.parentElement;I&&F.call(J,H)})};for(j in h={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:'',container:'body',renderItem:function renderItem(D,E){E=E.replace(/[-\/\\^$*+?.()|\[\]{}]/g,'\\$&');var F=new RegExp('('+E.split(' ').join('|')+')','gi');return'<div class="autocomplete-suggestion" data-val="'+D+'">'+D.replace(F,'<b>$1</b>')+'</div>'},onSelect:function onSelect(D,E,F){}},b)b.hasOwnProperty(j)&&(h[j]=b[j]);// init
for(l='object'==_typeof(h.selector)?[h.selector]:document.querySelectorAll(h.selector),m=0;m<l.length;m++)n=l[m],n.sc=document.createElement('div'),n.sc.className='autocomplete-suggestions '+h.menuClass,'body'!==h.container&&(n.sc.className=n.sc.className+' autocomplete-suggestions--in-container'),n.autocompleteAttr=n.getAttribute('autocomplete'),n.setAttribute('autocomplete','off'),n.cache={},n.last_val='',n.updateSC=function(D,E){var F=n.getBoundingClientRect();// outerWidth
if('body'===h.container&&(n.sc.style.left=Math.round(F.left+(window.pageXOffset||document.documentElement.scrollLeft)+h.offsetLeft)+'px',n.sc.style.top=Math.round(F.bottom+(window.pageYOffset||document.documentElement.scrollTop)+h.offsetTop)+'px'),n.sc.style.width=Math.round(F.right-F.left)+'px',!D&&(n.sc.style.display='block',n.sc.maxHeight||(n.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(n.sc,null):n.sc.currentStyle).maxHeight)),n.sc.suggestionHeight||(n.sc.suggestionHeight=n.sc.querySelector('.autocomplete-suggestion').offsetHeight),n.sc.suggestionHeight))if(!E)n.sc.scrollTop=0;else{var G=n.sc.scrollTop,H=E.getBoundingClientRect().top-n.sc.getBoundingClientRect().top;0<H+n.sc.suggestionHeight-n.sc.maxHeight?n.sc.scrollTop=H+n.sc.suggestionHeight+G-n.sc.maxHeight:0>H&&(n.sc.scrollTop=H+G)}},A(window,'resize',n.updateSC),document.querySelector(h.container).appendChild(n.sc),C('autocomplete-suggestion','mouseleave',function(D){var E=n.sc.querySelector('.autocomplete-suggestion.selected');E&&setTimeout(function(){E.className=E.className.replace('selected','')},20)},n.sc),C('autocomplete-suggestion','mouseover',function(D){var E=n.sc.querySelector('.autocomplete-suggestion.selected');E&&(E.className=E.className.replace('selected','')),this.className+=' selected'},n.sc),C('autocomplete-suggestion','mousedown',function(D){if(z(this,'autocomplete-suggestion')){// else outside click
var E=this.getAttribute('data-val');n.value=E,h.onSelect(D,E,this),n.sc.style.display='none'}},n.sc),n.blurHandler=function(){try{var D=document.querySelector('.autocomplete-suggestions:hover')}catch(E){var D=0}D?n!==document.activeElement&&setTimeout(function(){n.focus()},20):(n.last_val=n.value,n.sc.style.display='none',setTimeout(function(){n.sc.style.display='none'},350))},A(n,'blur',n.blurHandler),p=function p(D){var E=n.value;if(n.cache[E]=D,D.length&&E.length>=h.minChars){var F='';for(var G=0;G<D.length;G++)F+=h.renderItem(D[G],E);n.sc.innerHTML=F,n.updateSC(0)}else n.sc.style.display='none'},n.keydownHandler=function(D){var E=window.event?D.keyCode:D.which;// down (40), up (38)
if((40==E||38==E)&&n.sc.innerHTML){var F,G=n.sc.querySelector('.autocomplete-suggestion.selected');return G?(F=40==E?G.nextSibling:G.previousSibling,F?(G.className=G.className.replace('selected',''),F.className+=' selected',n.value=F.getAttribute('data-val')):(G.className=G.className.replace('selected',''),n.value=n.last_val,F=0)):(F=40==E?n.sc.querySelector('.autocomplete-suggestion'):n.sc.childNodes[n.sc.childNodes.length-1],F.className+=' selected',n.value=F.getAttribute('data-val')),n.updateSC(0,F),!1}// esc
if(27==E)n.value=n.last_val,n.sc.style.display='none';// enter
else if(13==E||9==E){var G=n.sc.querySelector('.autocomplete-suggestion.selected');G&&'none'!=n.sc.style.display&&(h.onSelect(D,G.getAttribute('data-val'),G),setTimeout(function(){n.sc.style.display='none'},20))}},A(n,'keydown',n.keydownHandler),n.keyupHandler=function(D){var E=window.event?D.keyCode:D.which;if(!E||(35>E||40<E)&&13!=E&&27!=E){var F=n.value;if(!(F.length>=h.minChars))n.last_val=F,n.sc.style.display='none';else if(F!=n.last_val){if(n.last_val=F,clearTimeout(n.timer),h.cache){if(F in n.cache)return void p(n.cache[F]);// no requests if previous suggestions were empty
for(var G=1;G<F.length-h.minChars;G++){var H=F.slice(0,F.length-G);if(H in n.cache&&!n.cache[H].length)return void p([])}}n.timer=setTimeout(function(){h.source(F,p)},h.delay)}}},A(n,'keyup',n.keyupHandler),n.focusHandler=function(D){n.last_val='\n',n.keyupHandler(D)},h.minChars||A(n,'focus',n.focusHandler);// public destroy method
_this.destroy=function(){for(var D=0;D<l.length;D++){var E=l[D];B(window,'resize',E.updateSC),B(E,'blur',E.blurHandler),B(E,'focus',E.focusHandler),B(E,'keydown',E.keydownHandler),B(E,'keyup',E.keyupHandler),E.autocompleteAttr?E.setAttribute('autocomplete',E.autocompleteAttr):E.removeAttribute('autocomplete'),document.querySelector(h.container).removeChild(E.sc),E=null}}})()}})}();/*
    JavaScript autoComplete v1.0.4
    Copyright (c) 2014 Simon Steinberger / Pixabay
    GitHub: https://github.com/Pixabay/JavaScript-autoComplete
    License: http://www.opensource.org/licenses/mit-license.php
*/(function(){'function'==typeof define&&define.amd?define('autoComplete',function(){return autoComplete}):'undefined'!=typeof module&&module.exports?module.exports=autoComplete:window.autoComplete=autoComplete})();

},{}],2:[function(require,module,exports){
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,'value'in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AutoComplete=require('./auto-complete.js'),TocJumper=function(){function TocJumper(a){for(var _b3 in _classCallCheck(this,TocJumper),this.data=null,this.opt={id:'toc_jumper',selector:'',transform:null,key:'i'},a)a.hasOwnProperty(_b3)&&(this.opt[_b3]=a[_b3]);this.log=console.log.bind(console,'TocJumper:'),this.log('init')}return _createClass(TocJumper,[{key:'scroll',value:function scroll(a){a in this.data&&(this.log(a),this.data[a].scrollIntoView(!0))}},{key:'hook',value:function hook(){var _this=this;this.data=make_index(this.opt.selector,this.opt.transform),css_inject('\n.autocomplete-suggestions {\n  text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: white; box-shadow: -1px 1px 3px rgba(0, 0, 0, .1);\n  position: absolute; display: none; z-index: 9999; max-height: 15em; overflow: hidden; overflow-y: auto; box-sizing: border-box;\n}\n.autocomplete-suggestion {\n  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\n}\n.autocomplete-suggestion.selected { background: #eee; }\n'),document.body.addEventListener('keydown',function(a){'INPUT'===a.target.nodeName||a.key!==_this.opt.key||a.ctrlKey||_this.dlg()})}},{key:'dlg',value:function dlg(){var _this2=this,a=document.getElementById(this.opt.id);if(a)return focus(a);a=document.createElement('div'),a.id=this.opt.id,a.style.border='1px solid #a9a9a9',a.style.padding='0.8em',a.style.backgroundColor='white',a.style.color='black',a.style.boxShadow='1px 1px 3px rgba(0, 0, 0, .4)',a.style.position='fixed',a.style.top='4em',a.style.right='1em',document.body.appendChild(a),a.innerHTML='<input size="40" />';var b=a.querySelector('input'),c=new AutoComplete({selector:b,minChars:1,delay:50,container:'#'+this.opt.id,source:function source(d,e){var f=[];for(var _g3 in _this2.data)-1!==_g3.toLowerCase().indexOf(d.toLowerCase())&&f.push(_g3);// TODO: sort by relevancy
e(f)},onSelect:function onSelect(d,e,f){return _this2.scroll(e)}});a.addEventListener('keydown',function(d){'Enter'===d.key&&_this2.scroll(b.value),d.key.match(/^Esc/)&&(c.destroy(),document.body.removeChild(a))}),focus(a)}}]),TocJumper}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}module.exports=TocJumper;var make_index=function make_index(a,b){var c=document.querySelectorAll(a),d={},e={};for(var f=0;f<c.length;++f){var g=c[f],h=b?b(g.innerText):g.innerText;e[h]=(e[h]||0)+1,h in d&&(h=h+' <'+e[h]+'>'),d[h]=g}return d},css_inject=function css_inject(a){var b=document.createElement('style');b.innerHTML=a,document.body.appendChild(b)},focus=function focus(a){setTimeout(function(){return a.querySelector('input').focus()},1)};

},{"./auto-complete.js":1}]},{},[2])(2)
});// ]]>
